<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Mail Chimp</title>
<script src="jquery-1.11.3.min.js" type="text/javascript"></script>
<script type="text/javascript">
$(document).ready(function() {
    $('#subscribe').submit(function() {
        if (!valid_email_address($("#email").val()))
        {
            $(".message").html('The email address you entered was invalid. Please make sure you enter a valid email address to subscribe.');
        }
        else
        {
            
            $(".message").html("<span style='color:green;'>Adding your email address...</span>");
            $.ajax({
                url: 'subscribe.php', 
                data: $('#subscribe').serialize(),
                type: 'POST',
                success: function(msg) {
                    if(msg=="success")
                    {
                        $("#email").val("");
                        $(".message").html('<span style="color:green;">You have successfully subscribed to our mailing list.</span>');
                        
                    }
                    else
                    {
                      $(".message").html('something wrong.');  
                    }
                }
            });
        }
 
        return false;
    });
});
function valid_email_address(email)
{
    var pattern = new RegExp(/^[+a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$/i);
    return pattern.test(email);
}


</script>
</head>

<body>
<div class="message"></div>
 
<form  role="form" method="post" id="subscribe">
    
    <input type="email"  id="email" name="email" placeholder="you@yourself.com" value="">
    <button type="submit">SUBSCRIBE</button>
    
</form>

</body>
</html>
